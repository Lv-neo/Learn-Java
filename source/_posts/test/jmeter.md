---
title: JMETER
date: 2018-11-21
categories : 测试
tags:
    - jmeter
    - test
---

<!-- toc -->

# jmeter简介（MAC版本）

```
官网地址
http://jmeter.apache.org/
```

Apache JMeter是100%纯java桌面应用程序，被设计用来测试客户端/服务器结构的软件（例如web应用程序）。它可以用来测试包括基于静态和动态资源程序的性能，例如静态文件，Java Servlets，Java 对象，数据库，FTP服务器等等。JMeter可以用来在一个服务器、网络或者对象上模拟重负载来测试它的强度或者分析在不同的负载类型下的全面性能。

另外，JMeter能够通过让你们用断言创建测试脚本来验证我们的应用程序是否返回了我们期望的结果，从而帮助我们回归测试我们的程序。为了最大的灵活性，JMeter允许我们使用正则表达式创建断言。

## 虚拟用户组

>右击“测试计划”>添加>Threads（Users）>线程组

JMeter是由Java实现的，并且使用一个Java线程来模拟一个用户，因此线程组（Thread Group）就是指一组用户的意思，换句话说一个线程组就是一组虚拟用户（virtual users），这些虚拟用户用来模拟访问被测系统。

常用设置：
* 线程数：这里就是指虚拟用户数，默认的输入是“1”，则表明模拟一个虚拟用户访问被测系统，如果想模拟100个用户，则此处输入100。

* Ramp-Up Period (in seconds): 虚拟用户增长时长。不明白别着急，xmeter君给你举个栗子：比如你测试的是一个考勤系统，那么实际用户登录使用考勤系统的时候并不是大家喊1、2、3 - 走起，然后一起登录。实际使用场景可能是9点钟上班，那么从8:30开始，考勤系统会陆陆续续有人开始登录，直到9:10左右，那么如果完全按照用户的使用场景，设计该测试的时候此处应输入40（分钟）* 60（秒）= 2400。但是实际测试一般不会设置如此长的Ramp-Up时间，原因嘛，难道你做一次测试要先等上40分钟做登录操作？一般情况下，可以估计出登录频率最高的时间长度，比如此处可能从8:55到9:00登录的人最多，那这里设置成300秒，如果“线程数”输入为100，则意味着在5分钟内100用户登录完毕。

* 循环次数：该处设置一个虚拟用户做多少次的测试。默认为1，意味着一个虚拟用户做完一遍事情之后，该虚拟用户停止运行。如果选中“永远”，则意味着测试运行起来之后就根本停不下来了，除非你把它强制咔嚓。

## 添加被测页面

>在Thread Group下>添加>取样器>HTTP请求

```
假设我们要请求
https://lv-neo.github.io/Learn-Java/2018/11/21/test/jmeter/
```

* 协议:http
* 服务器名称或者ip:lv-neo.github.io
* 端口：80
* 内容编码：UTF-8
* HTTP请求
    * 路径：Learn-Java/2018/11/21/test/jmeter/
    * 参数：对应http params
    * 消息体数据： 对应body

这个时候点测试跑完了没啥反应，你只有在“选项” > “Log Viewer”看看运行的日志。为了直观看到我们需要添加结果监听器。

## 添加结果监听器

>在Thread Group下>添加>监听器>察看结果树

现在你就可以看到http请求的结果了

## jdbc测试

如果你想执行JDBC测试，你当然需要从供应商得到适当的JDBC驱动。JMeter没有提供任何JDBC驱动。

